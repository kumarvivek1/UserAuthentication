[{"D:\\code\\userauthentication\\userauthentication\\src\\index.js":"1","D:\\code\\userauthentication\\userauthentication\\src\\App.js":"2","D:\\code\\userauthentication\\userauthentication\\src\\reportWebVitals.js":"3","D:\\code\\userauthentication\\userauthentication\\src\\components\\Register.js":"4","D:\\code\\userauthentication\\userauthentication\\src\\components\\Login.js":"5","D:\\code\\userauthentication\\userauthentication\\src\\components\\Nav.js":"6","D:\\code\\userauthentication\\userauthentication\\src\\components\\Home.js":"7","D:\\code\\userauthentication\\userauthentication\\src\\components\\Account.js":"8","D:\\code\\userauthentication\\userauthentication\\src\\components\\carousel.js":"9"},{"size":266,"mtime":1609230610755,"results":"10","hashOfConfig":"11"},{"size":2290,"mtime":1609568944549,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":4391,"mtime":1609405097677,"results":"14","hashOfConfig":"11"},{"size":3398,"mtime":1609477798718,"results":"15","hashOfConfig":"11"},{"size":972,"mtime":1609488918204,"results":"16","hashOfConfig":"11"},{"size":1262,"mtime":1609575845702,"results":"17","hashOfConfig":"11"},{"size":1316,"mtime":1609478149768,"results":"18","hashOfConfig":"11"},{"size":1781,"mtime":1609576155078,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"vces6q",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"22"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\code\\userauthentication\\userauthentication\\src\\index.js",[],["42","43"],"D:\\code\\userauthentication\\userauthentication\\src\\App.js",[],"D:\\code\\userauthentication\\userauthentication\\src\\reportWebVitals.js",[],"D:\\code\\userauthentication\\userauthentication\\src\\components\\Register.js",["44","45","46","47","48"],"import React, {useState,useEffect } from 'react'\r\nimport '../style/register.css'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'\r\n\r\nconst Register = (props) => {\r\n    const {handleLogout,handleMessage}=props\r\n    const [formData, setFormData] = useState({ username: '', email: '', password: '' })\r\n    const [error, setError] = useState({})\r\n    const [toggle, setToggle] = useState(false)\r\n    \r\n    useEffect(() => {\r\n        if (JSON.parse(localStorage.getItem(\"loginToken\"))) {\r\n             handleLogout()\r\n        }  \r\n     }, [])\r\n    \r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value })\r\n    }\r\n    const handleRemove = () => {\r\n        setFormData({ username: '', email: '', password: '' })\r\n        setError({})\r\n    }\r\n\r\n    const handleSubmit =(e) => {\r\n        e.preventDefault()\r\n        const errorData = {}\r\n        if (formData.username.length === 0) {\r\n            errorData.username=\"username can't be blank\"\r\n        }\r\n\r\n        if (formData.email.length === 0) {\r\n            errorData.email=\"email can't be blank\"\r\n        } else if (!validateEmail(formData.email)) {\r\n            errorData.email=\"enter valid email\"\r\n        }\r\n\r\n        if (formData.password.length === 0) {\r\n            errorData.password=\"password can't be blank\"\r\n        } else if (formData.password.length > 0 && (formData.password.length < 8 || formData.password.length > 128)) {\r\n            errorData.password=\"password length must be between 8 to 128 character\"\r\n        }\r\n        setError(errorData)\r\n\r\n        if (Object.keys(errorData).length === 0) {\r\n            const url = \"http://dct-user-auth.herokuapp.com/users/register\"\r\n            \r\n            axios.post(url, formData)\r\n                .then((res) => {\r\n                    console.log(res.data)\r\n                    if (Object.keys(res.data)[0]!==\"errors\") {\r\n                        handleMessage(\"You have registered sucessfully!\");\r\n                        setFormData({ username: '', email: '', password: '' })\r\n                        setToggle(true)\r\n                    } else {\r\n                        setError({errors:\"userName or email already exists\"})\r\n                    } \r\n                })\r\n                .catch((err) => {\r\n                    swal(err.message)\r\n                })\r\n        }\r\n    }\r\n    function validateEmail(email) {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(email);\r\n    }\r\n\r\n    return (\r\n        <div className=\"register\">\r\n            <div className=\"regform\">\r\n                {error.errors && <span>{error.errors}</span>\r\n                }\r\n                <h3>Register here!</h3>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input type=\"text\" value={formData.username} onChange={handleChange} placeholder=\"UserName\" name=\"username\" /><br />\r\n                    {\r\n                        error.username && <div><span>{error.username}</span><br/></div>\r\n                    }\r\n                    <input type=\"text\" value={formData.email} onChange={handleChange} placeholder=\"Email\" name=\"email\" /><br />\r\n                    {\r\n                        error.email && <div><span>{error.email}</span><br/></div>\r\n                    }\r\n                    <input type=\"password\" value={formData.password} onChange={handleChange} placeholder=\"Password\" name=\"password\" /><br />\r\n                    {\r\n                        error.password && <div><span>{error.password}</span><br /></div>\r\n                    }\r\n                    {/*(formData.username.length===0 ||formData.email.length===0 || formData.password.length===0 || Object.keys(error).length!==0) ?(<input type=\"submit\" value=\"Register\" disabled/>):(<input type=\"submit\" value=\"Register\"/>)\r\n                    */}\r\n                    <input type=\"submit\" value=\"Register\"/>\r\n                    <input type=\"button\" value=\"cancel\" onClick={handleRemove}/>\r\n                </form>\r\n                <p>Already have account? <Link to='/login'>Login</Link></p>\r\n            </div>\r\n            {\r\n                toggle && <Redirect to=\"/login\"/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default Register","D:\\code\\userauthentication\\userauthentication\\src\\components\\Login.js",["49"],"import React, { useEffect, useState } from 'react'\r\nimport '../style/login.css'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'\r\n\r\nconst Login = (props) => {\r\n    const {handleLogin,handleLogout,message,handleMessage}=props\r\n    const [loginData, setLoginData] = useState({ email: '', password: '' })\r\n    const [error, setError] = useState({})\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        if (JSON.parse(localStorage.getItem(\"loginToken\"))) {\r\n            handleLogout()\r\n        }  \r\n     }, [])\r\n    \r\n    const handleChange = (e) => {\r\n        setLoginData({...loginData,[e.target.name]:e.target.value})\r\n    }\r\n    const handleRemove = () => {\r\n        setLoginData({ email: '', password: '' })\r\n        setError({})\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const errData = {}\r\n\r\n        if (loginData.email.length === 0) {\r\n            errData.email=\"email can't be blank\"\r\n        }\r\n        if (loginData.password.length === 0) {\r\n            errData.password=\"password can't be blank\"\r\n        } else if (loginData.password.length > 0 && (loginData.password.length < 8 || loginData.password.length > 128)) {\r\n            errData.password=\"password length must be between 8 to 128 character\"\r\n        }\r\n        setError(errData)\r\n        if (Object.keys(errData).length === 0) {\r\n            const url = \"http://dct-user-auth.herokuapp.com/users/login\"\r\n            axios.post(url, loginData)\r\n                .then((res) => {\r\n                    if (Object.keys(res.data)[0]===\"errors\") {\r\n                        setError({ status: res.data })\r\n                    } else if (Object.keys(res.data)[0]===\"token\") {\r\n                        localStorage.setItem(\"loginToken\", JSON.stringify(res.data))\r\n                        handleLogin()\r\n                        handleMessage(\"You have logged in successfully!\")\r\n                        history.push(\"/\")\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    swal(err.message)\r\n                })\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"login\">\r\n            {\r\n                message && <h4 id='message'>{message}</h4>\r\n            }\r\n            <div className=\"loginform\">\r\n                {\r\n                    error.status && <span>{error.status.errors}</span>\r\n                }\r\n                <h3>Login to your account!</h3>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input type=\"text\" value={loginData.email} onChange={handleChange} placeholder=\"email\" name=\"email\" /><br />\r\n                     {\r\n                        error.email && <div><span>{error.email}</span><br /></div>\r\n                    }\r\n                    <input type=\"password\" value={loginData.password} onChange={handleChange} placeholder=\"Password\" name=\"password\" /><br />\r\n                     {\r\n                        error.password && <div><span>{error.password}</span><br /></div>\r\n                    }\r\n                    <input type=\"submit\" value=\"Login\" />\r\n                    <input type=\"button\" value=\"cancel\" onClick={handleRemove}/>\r\n                </form>\r\n                <p>Don't have Account ? <Link to='/register'>Register here</Link></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Login","D:\\code\\userauthentication\\userauthentication\\src\\components\\Nav.js",[],"D:\\code\\userauthentication\\userauthentication\\src\\components\\Home.js",[],"D:\\code\\userauthentication\\userauthentication\\src\\components\\Account.js",["50"],"import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport '../style/account.css'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Account = (props) => {\r\n    const {handleMessage} = props\r\n    const [userData, setUserData] = useState({})\r\n    const history = useHistory()\r\n    \r\n    useEffect(() => {\r\n        const tokenValue = JSON.parse(localStorage.getItem(\"loginToken\"))\r\n        if (tokenValue) {\r\n            const url = \"http://dct-user-auth.herokuapp.com/users/account\"\r\n        axios.get(url, { headers: { 'x-auth': tokenValue.token } })\r\n            .then((res) => {\r\n                setUserData(res.data)\r\n            })\r\n            .catch((err) => {\r\n                history.push(\"/login\")\r\n                handleMessage(\"you need to login first. Please login here!\")\r\n            })\r\n        } else {\r\n            history.push(\"/login\")\r\n            handleMessage(\"you need to login first. Please login here!\")\r\n        }\r\n        \r\n    }, [])\r\n    \r\n    return (\r\n        <div>\r\n            <div className=\"showUser\">\r\n                <h4>{userData.username}</h4>\r\n                <h4>{userData.email}</h4>\r\n                <h4>{userData.createdAt}</h4>\r\n                <h4>{userData._id}</h4>\r\n            </div>\r\n        </div>\r\n     )\r\n}\r\nexport default Account","D:\\code\\userauthentication\\userauthentication\\src\\components\\carousel.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":17,"column":9,"nodeType":"57","endLine":17,"endColumn":11,"suggestions":"58"},{"ruleId":"59","severity":1,"message":"60","line":67,"column":42,"nodeType":"61","messageId":"62","endLine":67,"endColumn":43,"suggestions":"63"},{"ruleId":"59","severity":1,"message":"60","line":67,"column":67,"nodeType":"61","messageId":"62","endLine":67,"endColumn":68,"suggestions":"64"},{"ruleId":"59","severity":1,"message":"60","line":67,"column":76,"nodeType":"61","messageId":"62","endLine":67,"endColumn":77,"suggestions":"65"},{"ruleId":"59","severity":1,"message":"60","line":67,"column":80,"nodeType":"61","messageId":"62","endLine":67,"endColumn":81,"suggestions":"66"},{"ruleId":"55","severity":1,"message":"56","line":17,"column":9,"nodeType":"57","endLine":17,"endColumn":11,"suggestions":"67"},{"ruleId":"55","severity":1,"message":"68","line":28,"column":8,"nodeType":"57","endLine":28,"endColumn":10,"suggestions":"69"},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleLogout'. Either include it or remove the dependency array.","ArrayExpression",["72"],"no-useless-escape","Unnecessary escape character: \\\".","Literal","unnecessaryEscape",["73","74"],["75","76"],["77","78"],["79","80"],["81"],"React Hook useEffect has missing dependencies: 'handleMessage' and 'history'. Either include them or remove the dependency array.",["82"],"no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},{"messageId":"85","fix":"86","desc":"87"},{"messageId":"88","fix":"89","desc":"90"},{"messageId":"85","fix":"91","desc":"87"},{"messageId":"88","fix":"92","desc":"90"},{"messageId":"85","fix":"93","desc":"87"},{"messageId":"88","fix":"94","desc":"90"},{"messageId":"85","fix":"95","desc":"87"},{"messageId":"88","fix":"96","desc":"90"},{"desc":"83","fix":"97"},{"desc":"98","fix":"99"},"Update the dependencies array to be: [handleLogout]",{"range":"100","text":"101"},"removeEscape",{"range":"102","text":"103"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"104","text":"105"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"106","text":"103"},{"range":"107","text":"105"},{"range":"108","text":"103"},{"range":"109","text":"105"},{"range":"110","text":"103"},{"range":"111","text":"105"},{"range":"112","text":"101"},"Update the dependencies array to be: [handleMessage, history]",{"range":"113","text":"114"},[594,596],"[handleLogout]",[2484,2485],"",[2484,2484],"\\",[2509,2510],[2509,2509],[2518,2519],[2518,2518],[2522,2523],[2522,2522],[578,580],[990,992],"[handleMessage, history]"]